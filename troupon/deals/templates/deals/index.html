{% extends "base.html" %}
{% load static %}

{% block extended_css %} 
    <link rel="stylesheet" type="text/css" href="{% static 'bower_components/flickity/dist/flickity.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/homepage_styles.css' %}" />
{% endblock extended_css %}

{% block main %}
    <!-- banner section -->
    <section class="row" id="banner-section">

        <!-- popular categories -->
        <div class="hidden-xs col-sm-3 col-lg-2">
            <h4 class="section-label">Popular Categories</h4>
            <ul class="category-menu label-link-list">
                {% for category in  popular_categories %}
                    <li><a href="{% url 'homepage' %}">{{ category }}</a></li>
                    {# <li><a href="{% url 'category' category_id=category.pk category_name=category.name %}">{{ category.name|truncatechars:30 }}</a></li> #}
                {% endfor %}
            </ul>
        </div>

        <!-- featured deals -->
        <div class="col-sm-9 col-lg-10">
            <h4 class="section-label hidden-xs">Featured Deals</h4>
            <div class="gallery-wrapper card">
                <div class="gallery">
                    {% for deal in featured_deals %}
                        <div class="gallery-cell">
                            <a class="gallery-image-wrapper" href="{% url 'homepage' %}">
                            {# <a href="{% url 'deal' deal_id=deal.pk %}"> #}
                                <img data-flickity-lazyload="{{ deal.slide_image_url }}">
                            </a>
                        </div>
                    {% endfor %}
                    
                </div>
            </div>
        </div>

        <div class="col-xs-12">
            <div class="divider"></div>
        </div>

    </section>
{% endblock main %}

{% block extended_js %} 
    <script src="{% static 'bower_components/flickity/dist/flickity.pkgd.min.js' %}"></script>
    <script src="{% static 'bower_components/color-thief/dist/color-thief.min.js' %}"></script>
    <script src="{% static 'js/homepage_scripts.js' %}"></script>
{% endblock extended_js %}